(function(){
    const anchors = document.querySelectorAll('a[href*="#"]'); 
     
    var ua = navigator.userAgent;  
    if (ua.search(/rv:11.0/) > 0 ) { 
        // console.log('its ie')
      }
    else {   
        // console.log( 'no ie')
        for( let anchor = 0 ; anchor < anchors.length; anchor++) { 
            anchors[anchor].addEventListener("click", function(event) { 
                const blockID =  anchors[anchor].getAttribute('href');
                    event.preventDefault(); 
                    document.querySelector('' + blockID).scrollIntoView({
                        behavior: "smooth", 
                        block: "start"
                    })
            })
        }
     
    }
}());
// (function(){
//     const anchors = document.querySelectorAll('a[href*="#"]'); 

//     var ua = navigator.userAgent;  
//     if (ua.search(/MSIE/) > 0) { console.log(ua) }
//     else {  
//         for( let anchor = 0 ; anchor < anchors.length; anchor++) { 
//             anchors[anchor].addEventListener("click", function(event) { 
               
//                 const blockID =  anchors[anchor].getAttribute('href');
//                 event.preventDefault(); 
//                 document.querySelector('' + blockID).scrollIntoView({
//                     behavior: "smooth", 
//                     block: "start"
//                 })
//             })
//         }
//     }
// }());
let headerButton = document.querySelector('.js-header-button')
let headerItem1 =  document.querySelector('header .main-banner_reg .item-1')
let headerItem2 =  document.querySelector('header .main-banner_reg .item-2')
let headerLogo =  document.querySelector('header .main-banner_logo')

headerButton.addEventListener('click', toggleHeaderMenu)

function toggleHeaderMenu() { 
    headerItem1.classList.toggle('show')
    headerItem2.classList.toggle('show') 
    headerLogo.classList.toggle('hide') 
    headerButton.classList.toggle('open') 
}
 
  
let modalBtn = document.querySelectorAll('.js-modal-btn a'),
    modalCont = document.querySelector('.js-modal'),
    modalCloseCont = document.querySelector('.js-modal .service-modal-container'),
    modalCloseIcon = document.querySelectorAll('.modal-close'); 
let modalContact = document.querySelector('.service-modal-container_contact'); 

 
for (let i = 0 ; i < modalBtn.length; i++) { 
    modalBtn[i].addEventListener('click', openModal)
}
 
for (let i = 0 ; i < modalCloseIcon.length; i++) { 
    modalCloseIcon[i].addEventListener('click', closeModal)
}

modalCont.addEventListener('click', closeModalProps) 
 
 

function openModal(e) {  
    document.body.classList.add('overflow-hidden')
    e.preventDefault()
    modalCont.classList.add('show') 
}

function closeModal() {  
    document.body.classList.remove('overflow-hidden')
    modalCont.classList.remove('show')  
    modalContact.classList.remove('hide') 
}
function closeModalProps(e) {  
    if( e.target == modalCont ||  e.target == modalCloseCont) { 
        document.body.classList.remove('overflow-hidden');
        modalCont.classList.remove('show'); 
        modalContact.classList.remove('hide');
    }  
}
 
$(window).scroll(function() {
    if ($(this).scrollTop() > 1){  
        $('header').addClass("sticky");
    }
    else{
        $('header').removeClass("sticky");
    }
});
let days1 = document.querySelector('.body-timer .days span:first-child')
let days2 = document.querySelector('.body-timer .days span:nth-child(2)')
let hour1 = document.querySelector('.body-timer .hour span:first-child')
let hour2 = document.querySelector('.body-timer .hour span:nth-child(2)')
let minute1 = document.querySelector('.body-timer .minute span:first-child')
let minute2 = document.querySelector('.body-timer .minute span:nth-child(2)')
let second1 = document.querySelector('.body-timer .second span:first-child')
let second2 = document.querySelector('.body-timer .second span:nth-child(2)')

function timer() {
    var nowDate = new Date();
    var achiveDate = new Date(2020,6,22,0,0,0); //Задаем дату, к которой будет осуществляться обратный отсчет
    var result = (achiveDate - nowDate)+1000;
    if (result < 0) {
        var elmnt = document.getElementById('timer');
        elmnt.innerHTML = ' - : - - : - - : - - ';
        return undefined;
    }
    var seconds = Math.floor((result/1000)%60);
    var minutes = Math.floor((result/1000/60)%60);
    var hours = Math.floor((result/1000/60/60)%24);
    var days = Math.floor(result/1000/60/60/24);
    if (seconds < 10) seconds = '0' + seconds;
    if (minutes < 10) minutes = '0' + minutes;
    if (hours < 10) hours = '0' + hours;
    
    var elmnt = document.getElementById('timer');
     
    seconds = seconds.toString()
    minutes = minutes.toString()
    hours = hours.toString()
    days = days.toString()

    days1.innerHTML = days[0] 
    days2.innerHTML = days[1] 
    hour1.innerHTML = hours[0] 
    hour2.innerHTML = hours[1] 
    minute1.innerHTML = minutes[0] 
    minute2.innerHTML = minutes[1]  
    second1.innerHTML = seconds[0]  
    second2.innerHTML = seconds[1]  
     
    setTimeout(timer, 1000);
}
timer(); 